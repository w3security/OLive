(function(t){function e(e){for(var n,a,i=e[0],l=e[1],_=e[2],p=0,m=[];p<i.length;p++)a=i[p],s[a]&&m.push(s[a][0]),s[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,_||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,i=1;i<o.length;i++){var l=o[i];0!==s[l]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},s={app:0},r=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var _=0;_<i.length;_++)e(i[_]);var u=l;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("64a9")},"56d7":function(t,e,o){"use strict";o.r(e);var n=o("5f5b"),s=(o("f9e3"),o("2dd8"),o("2b0e")),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container",attrs:{id:"app"}},[o("div",{staticClass:"row flex-xl-nowrap"},[o("main",{staticClass:"col-20 col-md-12",attrs:{role:"main"}},[o("h1",[t._v("OLive (ONNX Go Live)")]),o("hr"),o("router-link",{attrs:{to:"/convert"}},[o("button",{staticClass:"btn btn-success btn-md button_right",attrs:{type:"button"}},[t._v("\n          Convert\n        ")])]),o("router-link",{attrs:{to:"/perf"}},[o("button",{staticClass:"btn btn-info btn-md button_right",attrs:{type:"button"}},[t._v("\n          Pert Test\n        ")])]),o("router-link",{attrs:{to:"/visualize"}},[o("button",{staticClass:"btn btn-primary btn-md button_right",attrs:{type:"button"}},[t._v("\n          Model Visualize\n        ")])]),o("router-link",{attrs:{to:"/jobmonitor"}},[o("button",{staticClass:"btn btn-secondary btn-md",attrs:{type:"button"}},[t._v("\n          Job Monitor\n        ")])]),o("hr"),o("keep-alive",[o("router-view",{attrs:{updated_model:t.updated_model},on:{update_model:t.updateModelHandler}})],1)],1),o("footer")])])},a=[],i={name:"App",data(){return{updated_model:""}},methods:{updateModelHandler(t){this.updated_model=t}}},l=i,_=(o("034f"),o("2877")),u=Object(_["a"])(l,r,a,!1,null,null,null),p=u.exports,m=o("8c4f"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{ref:"convertModel",attrs:{id:"convert-model",title:"Convert model","hide-footer":""}},[o("b-form",{staticClass:"w-100",on:{submit:t.convert,reset:t.onReset}},[o("b-form-group",{attrs:{id:"form-model_framework-group",label:"Model Conversion Job Name:","label-for":"form-model_framework-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{placeholder:"onnx-converter"},model:{value:t.job_name,callback:function(e){t.job_name=e},expression:"job_name"}})],1),o("b-form-group",{attrs:{id:"form-model_framework-group",label:"Model Framework:","label-for":"form-model_framework-input","label-class":"font-weight-bold"}},[o("b-form-select",{staticClass:"mb-3",attrs:{required:"",options:t.options.model_framework,label:"Model Framework:"},model:{value:t.convert_form.model_framework,callback:function(e){t.$set(t.convert_form,"model_framework",e)},expression:"convert_form.model_framework"}},[o("template",{slot:"first"})],2)],1),"pytorch"===t.convert_form.model_framework?o("div",[o("b-form-group",{attrs:{id:"form-pytorch_version-group",label:"PyTorch version for conversion:","label-for":"form-pytorch_version-input","label-class":"font-weight-bold"}},[o("b-form-select",{staticClass:"mb-3",attrs:{options:t.options.pytorch_version,label:"PyTorch version:"},model:{value:t.convert_form.pytorch_version,callback:function(e){t.$set(t.convert_form,"pytorch_version",e)},expression:"convert_form.pytorch_version"}},[o("template",{slot:"first"})],2)],1)],1):t._e(),"tensorflow"===t.convert_form.model_framework?o("div",[o("b-form-group",{attrs:{id:"form-tensorflow_version-group",label:"TensorFlow version for conversion:","label-for":"form-tensorflow_version-input","label-class":"font-weight-bold"}},[o("b-form-select",{staticClass:"mb-3",attrs:{options:t.options.tensorflow_version,label:"TensorFlow version:"},model:{value:t.convert_form.tensorflow_version,callback:function(e){t.$set(t.convert_form,"tensorflow_version",e)},expression:"convert_form.tensorflow_version"}},[o("template",{slot:"first"})],2)],1)],1):t._e(),o("b-form-group",{attrs:{id:"form-conversion_option-group",label:"Conversion Option:","label-for":"form-conversion_option-input","label-class":"font-weight-bold"}},[o("b-form-select",{model:{value:t.conversion_option,callback:function(e){t.conversion_option=e},expression:"conversion_option"}},[o("template",{slot:"first"}),o("option",{attrs:{value:"0"}},[t._v("Run With Configuaration JSON File")]),o("option",{attrs:{value:"1"}},[t._v("Run With Inline Arguments")])],2)],1),o("hr"),0==t.conversion_option?o("div",[o("b-form-group",{attrs:{id:"form-conversion_config-group",label:"Conversion Configuration JSON File:","label-for":"form-conversion_config-input","label-class":"font-weight-bold"}},[o("b-form-file",{attrs:{id:"form-conversion_config-input",placeholder:"Select your conversion configuration json file"},model:{value:t.conversion_config,callback:function(e){t.conversion_config=e},expression:"conversion_config"}})],1)],1):t._e(),1==t.conversion_option?o("div",[o("b-form-group",{attrs:{id:"form-model-group",label:"Model:","label-for":"form-model-input","label-class":"font-weight-bold"}},[o("b-form-file",{attrs:{id:"form-model-input",required:"",placeholder:"Choose a model...For TensorFlow saved model, please upload a zip or tar file"},model:{value:t.convert_form.model,callback:function(e){t.$set(t.convert_form,"model",e)},expression:"convert_form.model"}})],1),o("b-form-group",{attrs:{id:"form-input_names-group",label:"Model Inputs Names:","label-for":"form-input_names-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-input_names-input",type:"text",placeholder:"Enter Model Inputs Names with Comma Seperated. e.g. input_1,input_2,input3"},model:{value:t.convert_form.input_names,callback:function(e){t.$set(t.convert_form,"input_names",e)},expression:"convert_form.input_names"}})],1),o("b-form-group",{attrs:{id:"form-output_names-group",label:"Model Outputs Names:","label-for":"form-output_names-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-output_names-input",type:"text",placeholder:"Enter Model Outputs Names with Comma Seperated. e.g. output_1,output_2"},model:{value:t.convert_form.output_names,callback:function(e){t.$set(t.convert_form,"output_names",e)},expression:"convert_form.output_names"}})],1),o("div",{staticClass:"open_button",on:{click:function(e){t.adv_setting=!t.adv_setting}}},[t._v("\n              Advanced Settings\n        ")]),o("br"),t.adv_setting?o("div",[o("b-form-group",{attrs:{id:"form-input_shapes-group",label:"Model Inputs Shapes:","label-for":"form-input_shapes-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-input_shapes-input",type:"text",placeholder:"Enter List of Shapes of each Input Node. e.g. [[1,7],[1,7],[1,7]]"},model:{value:t.convert_form.input_shapes,callback:function(e){t.$set(t.convert_form,"input_shapes",e)},expression:"convert_form.input_shapes"}})],1),o("b-form-group",{attrs:{id:"form-output_shapes-group",label:"Model Outputs Shapes:","label-for":"form-output_shapes-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-output_shapes-input",type:"text",placeholder:"Enter List of Shapes of each Output Node. e.g. [[1,4],[1,4]]"},model:{value:t.convert_form.output_shapes,callback:function(e){t.$set(t.convert_form,"output_shapes",e)},expression:"convert_form.output_shapes"}})],1),o("b-form-group",{attrs:{id:"form-input_types-group",label:"Model Inputs Types:","label-for":"form-input_types-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-input_types-input",type:"text",placeholder:"Enter Model Inputs Types with Comma Seperated. e.g. float32,float32,float32"},model:{value:t.convert_form.input_types,callback:function(e){t.$set(t.convert_form,"input_types",e)},expression:"convert_form.input_types"}})],1),o("b-form-group",{attrs:{id:"form-output_types-group",label:"Model Outputs Types:","label-for":"form-output_types-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-output_types-input",type:"text",placeholder:"Enter Model Outputs Types with Comma Seperated. e.g. float32,float32"},model:{value:t.convert_form.output_types,callback:function(e){t.$set(t.convert_form,"output_types",e)},expression:"convert_form.output_types"}})],1),o("b-form-group",{attrs:{id:"form-sample_input_data_path-group",label:"Model Sample Input Data (.npz file):","label-for":"form-sample_input_data_path-input","label-class":"font-weight-bold"}},[o("b-form-file",{attrs:{id:"form-sample_input_data_path-input",placeholder:"Select your sample input data"},model:{value:t.sample_input_data_path,callback:function(e){t.sample_input_data_path=e},expression:"sample_input_data_path"}})],1),o("b-form-group",{attrs:{id:"form-onnx_opset-group",label:"ONNX Target Opset:","label-for":"form-onnx_opset-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-onnx_opset-input",type:"text",placeholder:"Enter ONNX target opset"},model:{value:t.convert_form.onnx_opset,callback:function(e){t.$set(t.convert_form,"onnx_opset",e)},expression:"convert_form.onnx_opset"}})],1),"pytorch"===t.convert_form.model_framework?o("div",[o("b-form-group",{attrs:{id:"form-model_root_path-group",label:"Model Root Path:","label-for":"form-model_root_path-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-model_root_path-input",type:"text",placeholder:"Enter model root path"},model:{value:t.convert_form.model_root_path,callback:function(e){t.$set(t.convert_form,"model_root_path",e)},expression:"convert_form.model_root_path"}})],1)],1):t._e()],1):t._e()],1):t._e(),o("hr"),o("b-button",{staticClass:"button_right",attrs:{type:"submit",disabled:t.model_running,variant:"primary"}},[t._v("Submit")]),o("b-button",{attrs:{type:"reset",disabled:t.model_running,variant:"danger"}},[t._v("Reset")])],1)],1),o("hr"),t.show_message?o("alert",{attrs:{message:t.message,link:t.link,loading:t.model_running}}):t._e()],1)},d=[],f=o("bc3a"),h=o.n(f),b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{"white-space":"pre-line"}},[o("b-alert",{attrs:{variant:"success",show:""}},[t._v(t._s(t.message)+"\n    "),o("a",{staticClass:"alert-link",attrs:{href:t.link,target:"_blank"}},[t._v(" "+t._s(t.link)+" ")])]),t.loading?o("b-progress",{staticClass:"mt-2",attrs:{value:100,variant:"success",striped:""}}):t._e(),o("br")],1)},g=[],v={props:["message","link","loading"]},y=v,w=Object(_["a"])(y,b,g,!1,null,null,null),x=w.exports;const k={conversion_config:"",model:null,model_framework:"",onnx_opset:"",model_root_path:"",input_names:"",output_names:"",input_shapes:"",input_types:"",output_types:"",onnx_model_path:"res.onnx",sample_input_data_path:"",pytorch_version:"",tensorflow_version:""},$={optimization_config:"",model:null,sample_input_data_path:"",input_names:"",output_names:"",input_shapes:"",output_shapes:"",providers_list:"",trt_fp16_enabled:!1,openmp_enabled:!1,quantization_enabled:!1,transformer_enabled:!1,transformer_args:"",execution_mode_list:"",intra_thread_num_list:"",inter_thread_num_list:"",omp_wait_policy_list:"",omp_max_active_levels:"",ort_opt_level_list:"",concurrency_num:"",test_num:"",warmup_num:"",onnxruntime_version:"1.9.0",use_gpu:!1,throughput_tuning_enabled:!1,max_latency_percentile:"",max_latency_ms:"",dynamic_batching_size:"",threads_num:"",min_duration_sec:""},j=Object.assign({},k);var S={name:"Convert",data(){return{convert_form:k,test_data:[],conversion_option:3,savedModel_vars:[],options:{model_framework:[{value:"pytorch",text:"PyTorch"},{value:"tensorflow",text:"TensorFlow"}],tensorflow_version:["1.11","1.12","1.13","1.14","1.15"],pytorch_version:["1.3","1.4","1.5","1.6","1.7"],tf_model_type:["savedModel","frozen graph","checkpoint"]},tf_model_type:"",message:"",adv_setting:!1,show_message:!1,model_missing:"",convert_result:null,host:`${window.location.protocol}//${window.location.host.split(":")[0]}`,model_running:!1,link:"",job_id:"",job_name:`onnx-converter-${Date.now()}`}},components:{alert:x},methods:{initForm(){this.convert_form=Object.assign({},j)},onReset(t){t.preventDefault(),this.initForm(),this.convert_result=null,this.job_name=`onnx-converter-${Date.now()}`},convert(t){this.close_all(),this.model_running=!0,this.show_message=!0,this.message=`Submitting job ${this.job_name}`,t.preventDefault();const e=this.convert_form,o=JSON.stringify(e),n=new Blob([o],{type:"application/json"}),s=new FormData;s.append("job_name",this.job_name),s.append("metadata",n),s.append("file",this.convert_form.model),s.append("sample_input_data_path",this.sample_input_data_path),s.append("conversion_config",this.conversion_config),this.savedModel_vars=[],h.a.post(`${this.host}:5000/convert`,s).then(t=>{this.link=`${this.host}:5000/convertresult/${t.data.job_id}`,this.show_message=!0,this.model_running=!1,this.message="Running job at ",this.update_result(t.data.job_id)}).catch(t=>{this.model_running=!1,this.message=t}),this.job_name=`onnx-converter-${Date.now()}`},update_result(t){h.a.get(`${this.host}:5000/convertstatus/${t}`).then(e=>{"SUCCESS"==e.data.state?(this.$emit("convert_model",e.data.converted_model),this.message="Job completed. See results at "):"FAILURE"==e.data.state?this.message="Job failed. See results at ":setTimeout(()=>this.update_result(t),2e3)}).catch(t=>{this.model_running=!1,this.message=t})},close_all(){this.result=[],this.show_message=!1,this.show_logs=!1,this.convert_result=null}}},z=S,C=Object(_["a"])(z,c,d,!1,null,null,null),O=C.exports,E=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container",staticStyle:{"margin-top":"2%"}},[o("div",{ref:"perf_tuningModel",attrs:{id:"perf_tuning-model",title:"Perf Test","hide-footer":""}},[o("b-form",{on:{submit:t.perf_tuning,reset:t.onReset_perf_tuning}},[o("b-form-group",{attrs:{id:"form-model_type-group",label:"Performance Tuning Job Name:","label-for":"form-model_type-input","label-class":"font-weight-bold"}},[o("b-form-input",{model:{value:t.job_name,callback:function(e){t.job_name=e},expression:"job_name"}})],1),o("b-form-group",{attrs:{id:"form-onnxruntime_version-group",label:"onnxruntime version for optimization:","label-for":"form-onnxruntime_version-input","label-class":"font-weight-bold"}},[o("b-form-select",{staticClass:"mb-3",attrs:{options:t.options.onnxruntime_version,label:"onnxruntime version:"},model:{value:t.perf_tuning_form.onnxruntime_version,callback:function(e){t.$set(t.perf_tuning_form,"onnxruntime_version",e)},expression:"perf_tuning_form.onnxruntime_version"}},[o("template",{slot:"first"})],2)],1),o("b-form-checkbox",{attrs:{id:"use_gpu",name:"use_gpu"},model:{value:t.perf_tuning_form.use_gpu,callback:function(e){t.$set(t.perf_tuning_form,"use_gpu",e)},expression:"perf_tuning_form.use_gpu"}},[t._v("\n                Use onnxruntime GPU package for optimization\n          ")]),o("hr"),o("b-form-group",{attrs:{id:"form-optimization_option-group",label:"Optimization Option:","label-for":"form-optimization_option-input","label-class":"font-weight-bold"}},[o("b-form-select",{model:{value:t.optimization_option,callback:function(e){t.optimization_option=e},expression:"optimization_option"}},[o("template",{slot:"first"}),o("option",{attrs:{value:"0"}},[t._v("Run With Configuaration JSON File")]),o("option",{attrs:{value:"1"}},[t._v("Run With Inline Arguments")])],2)],1),o("hr"),0==t.optimization_option?o("div",[0==t.optimization_option?o("b-form-group",{attrs:{id:"form-optimization_config-group",label:"Optimization Configuration JSON File:","label-for":"form-optimization_config-input","label-class":"font-weight-bold"}},[o("b-form-file",{attrs:{id:"form-optimization_config-input",placeholder:"Select your optimization configuration json file"},model:{value:t.optimization_config,callback:function(e){t.optimization_config=e},expression:"optimization_config"}})],1):t._e()],1):t._e(),1==t.optimization_option?o("div",[o("b-form-group",{attrs:{id:"form-model-group",label:"Model:","label-for":"form-model","label-class":"font-weight-bold"}},[o("b-form-file",{attrs:{id:"form-model",required:"",placeholder:"Choose a model..."},model:{value:t.customized_model,callback:function(e){t.customized_model=e},expression:"customized_model"}})],1),o("b-row",{staticClass:"missing"},[t._v("\n                "+t._s(t.model_missing)+"\n            ")]),o("div",{staticClass:"open_button",on:{click:function(e){t.adv_setting=!t.adv_setting}}},[t._v("\n                Advanced Settings\n            ")]),o("br"),t.adv_setting?o("div",[o("b-form-checkbox",{attrs:{id:"throughput_tuning_enabled",name:"throughput_tuning_enabled"},model:{value:t.perf_tuning_form.throughput_tuning_enabled,callback:function(e){t.$set(t.perf_tuning_form,"throughput_tuning_enabled",e)},expression:"perf_tuning_form.throughput_tuning_enabled"}},[t._v("\n                Enable Throughput Tuning\n                ")]),t.perf_tuning_form.throughput_tuning_enabled?o("b-form-group",{attrs:{id:"form-max_latency_percentile",label:"Maximum Latency Percentile (Required for throughput tuning):","label-for":"form-max_latency_percentile-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-max_latency_percentile-input",type:"text",placeholder:"Enter Max Latency Percentile, e.g. 0.90, 0.95"},model:{value:t.perf_tuning_form.max_latency_percentile,callback:function(e){t.$set(t.perf_tuning_form,"max_latency_percentile",e)},expression:"perf_tuning_form.max_latency_percentile"}})],1):t._e(),t.perf_tuning_form.throughput_tuning_enabled?o("b-form-group",{attrs:{id:"form-max_latency_ms",label:"Maximum Latency (Required for throughput tuning):","label-for":"form-max_latency_ms-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-max_latency_ms-input",type:"text",placeholder:"Enter Max Latency in millisecond, e.g. 100, 50"},model:{value:t.perf_tuning_form.max_latency_ms,callback:function(e){t.$set(t.perf_tuning_form,"max_latency_ms",e)},expression:"perf_tuning_form.max_latency_ms"}})],1):t._e(),t.perf_tuning_form.throughput_tuning_enabled?o("b-form-group",{attrs:{id:"form-threads_num",label:"Threads Number (Required for throughput tuning):","label-for":"form-threads_num-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-threads_num-input",type:"text",placeholder:"Enter Threads Number"},model:{value:t.perf_tuning_form.threads_num,callback:function(e){t.$set(t.perf_tuning_form,"threads_num",e)},expression:"perf_tuning_form.threads_num"}})],1):t._e(),t.perf_tuning_form.throughput_tuning_enabled?o("b-form-group",{attrs:{id:"form-min_duration_sec",label:"Minimum Duration (Sepcified for throughput tuning):","label-for":"form-min_duration_sec-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-min_duration_sec-input",type:"text",placeholder:"Enter Minimum Duration in second"},model:{value:t.perf_tuning_form.min_duration_sec,callback:function(e){t.$set(t.perf_tuning_form,"min_duration_sec",e)},expression:"perf_tuning_form.min_duration_sec"}})],1):t._e(),t.perf_tuning_form.throughput_tuning_enabled?o("b-form-group",{attrs:{id:"form-dynamic_batching_size",label:"Max batchsize (Sepcified for throughput tuning and dynamic batching):","label-for":"form-dynamic_batching_size-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-dynamic_batching_size-input",type:"text",placeholder:"Enter Maximum Batchsize for Dynamic Batching"},model:{value:t.perf_tuning_form.dynamic_batching_size,callback:function(e){t.$set(t.perf_tuning_form,"dynamic_batching_size",e)},expression:"perf_tuning_form.dynamic_batching_size"}}),o("hr")],1):t._e(),o("b-form-checkbox",{attrs:{id:"openmp_enabled",name:"openmp_enabled"},model:{value:t.perf_tuning_form.openmp_enabled,callback:function(e){t.$set(t.perf_tuning_form,"openmp_enabled",e)},expression:"perf_tuning_form.openmp_enabled"}},[t._v("\n                Whether the onnxruntime package is built with OpenMP\n                ")]),o("b-form-group",{attrs:{id:"form-input_names-group",label:"Model Inputs Names:","label-for":"form-input_names-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-input_names-input",type:"text",value:"20",placeholder:"Enter Model Inputs Names with Comma Seperated. e.g. input_1,input_2,input3"},model:{value:t.perf_tuning_form.input_names,callback:function(e){t.$set(t.perf_tuning_form,"input_names",e)},expression:"perf_tuning_form.input_names"}})],1),o("b-form-group",{attrs:{id:"form-output_names-group",label:"Model Output Names:","label-for":"form-output_names-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-output_names-input",type:"text",value:"20",placeholder:"Enter Model Outputs Names with Comma Seperated. e.g. output_1,output_2"},model:{value:t.perf_tuning_form.output_names,callback:function(e){t.$set(t.perf_tuning_form,"output_names",e)},expression:"perf_tuning_form.output_names"}})],1),o("b-form-group",{attrs:{id:"form-input_shapes-group",label:"Model Inputs Shapes:","label-for":"form-input_shapes-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-input_shapes-input",type:"text",value:"20",placeholder:"Enter List of Shapes of each Input Node. e.g. [[1,7],[1,7],[1,7]]"},model:{value:t.perf_tuning_form.input_shapes,callback:function(e){t.$set(t.perf_tuning_form,"input_shapes",e)},expression:"perf_tuning_form.input_shapes"}})],1),o("b-form-group",{attrs:{id:"form-sample_input_data_path-group",label:"Model Sample Input Data Path:","label-for":"form-sample_input_data_path-input","label-class":"font-weight-bold"}},[o("b-form-file",{attrs:{id:"form-sample_input_data_path-input",placeholder:"Select your sample input data"},model:{value:t.sample_input_data_path,callback:function(e){t.sample_input_data_path=e},expression:"sample_input_data_path"}})],1),o("b-form-group",{attrs:{id:"form-providers_list-group",label:"Execution Providers (choose multiple):","label-for":"form-providers_list-input","label-class":"font-weight-bold"}},[o("b-form-select",{staticClass:"form-control",attrs:{multiple:"",options:t.options.providers_list,label:"Execution Providers (choose multiple):"},model:{value:t.selected_eps,callback:function(e){t.selected_eps=e},expression:"selected_eps"}},[o("template",{slot:"first"})],2)],1),o("b-form-checkbox",{attrs:{id:"trt_fp16_enabled",name:"trt_fp16_enabled"},model:{value:t.perf_tuning_form.trt_fp16_enabled,callback:function(e){t.$set(t.perf_tuning_form,"trt_fp16_enabled",e)},expression:"perf_tuning_form.trt_fp16_enabled"}},[t._v("\n                Enable TensorRT FP16 mode optimization\n                ")]),o("b-form-checkbox",{attrs:{id:"quantization_enabled",name:"quantization_enabled"},model:{value:t.perf_tuning_form.quantization_enabled,callback:function(e){t.$set(t.perf_tuning_form,"quantization_enabled",e)},expression:"perf_tuning_form.quantization_enabled"}},[t._v("\n                Enable quantization optimization\n                ")]),o("b-form-checkbox",{attrs:{id:"transformer_enabled",name:"transformer_enabled"},model:{value:t.perf_tuning_form.transformer_enabled,callback:function(e){t.$set(t.perf_tuning_form,"transformer_enabled",e)},expression:"perf_tuning_form.transformer_enabled"}},[t._v("\n                Enable transformer optimization\n                ")]),t.perf_tuning_form.transformer_enabled?o("b-form-group",{attrs:{id:"form-transformer_args-group",label:"Transformer Arguments:","label-for":"form-transformer_args-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-transformer_args-input",type:"text",placeholder:"Enter transformer arguments"},model:{value:t.perf_tuning_form.transformer_args,callback:function(e){t.$set(t.perf_tuning_form,"transformer_args",e)},expression:"perf_tuning_form.transformer_args"}})],1):t._e(),o("b-form-group",{attrs:{id:"form-execution_mode_list-group",label:"Execution Modes (choose multiple):","label-for":"form-execution_mode_list-input","label-class":"font-weight-bold"}},[o("b-form-select",{staticClass:"form-control",attrs:{multiple:"",options:t.options.execution_mode_list,label:"Execution Modes (choose multiple):"},model:{value:t.selected_execution_modes,callback:function(e){t.selected_execution_modes=e},expression:"selected_execution_modes"}},[o("template",{slot:"first"})],2)],1),o("b-form-group",{attrs:{id:"form-intra_thread_num_list-group",label:"Number of Intra Threads:","label-for":"form-intra_thread_num_list-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-intra_thread_num_list-input",type:"text",value:"20",placeholder:"Enter intra_thread_num_list. e.g. 1,2,4"},model:{value:t.perf_tuning_form.intra_thread_num_list,callback:function(e){t.$set(t.perf_tuning_form,"intra_thread_num_list",e)},expression:"perf_tuning_form.intra_thread_num_list"}})],1),o("b-form-group",{attrs:{id:"form-inter_thread_num_list-group",label:"Number of Inter Threads:","label-for":"form-inter_thread_num_list-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-inter_thread_num_list-input",type:"text",value:"20",placeholder:"Enter inter_thread_num_list. e.g. 1,2,4"},model:{value:t.perf_tuning_form.inter_thread_num_list,callback:function(e){t.$set(t.perf_tuning_form,"inter_thread_num_list",e)},expression:"perf_tuning_form.inter_thread_num_list"}})],1),o("b-form-group",{attrs:{id:"form-omp_max_active_levels-group",label:"OMP_MAX_ACTIVE_LEVELS:","label-for":"form-omp_max_active_levels-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-omp_max_active_levels-input",type:"text",value:"20",placeholder:"Enter omp_max_active_levels."},model:{value:t.perf_tuning_form.omp_max_active_levels,callback:function(e){t.$set(t.perf_tuning_form,"omp_max_active_levels",e)},expression:"perf_tuning_form.omp_max_active_levels"}})],1),o("b-form-group",{attrs:{id:"form-omp_wait_policy_list-group",label:"OMP WAIT POLICY (choose multiple):","label-for":"form-omp_wait_policy_list-input","label-class":"font-weight-bold"}},[o("b-form-select",{staticClass:"form-control",attrs:{multiple:"",options:t.options.omp_wait_policy_list,label:"OMP WAIT POLICY (choose multiple):"},model:{value:t.selected_omp_wait_policy,callback:function(e){t.selected_omp_wait_policy=e},expression:"selected_omp_wait_policy"}},[o("template",{slot:"first"})],2)],1),o("b-form-group",{attrs:{id:"form-ort_opt_level_list-group",label:"Optimization Level (choose multiple):","label-for":"form-ort_opt_level_list-input","label-class":"font-weight-bold"}},[o("b-form-select",{staticClass:"form-control",attrs:{multiple:"",options:t.options.ort_opt_level_list,label:"Optimization Level (choose multiple):"},model:{value:t.selected_opt_levels,callback:function(e){t.selected_opt_levels=e},expression:"selected_opt_levels"}},[o("template",{slot:"first"})],2)],1),o("b-form-group",{attrs:{id:"form-concurrency_num-group",label:"Number of Concurrency:","label-for":"form-concurrency_num-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-concurrency_num-input",type:"text",value:"20",placeholder:"Enter concurrency_num.\n                        If leave blank, concurrency_num will be set to 1."},model:{value:t.perf_tuning_form.concurrency_num,callback:function(e){t.$set(t.perf_tuning_form,"concurrency_num",e)},expression:"perf_tuning_form.concurrency_num"}})],1),o("b-form-group",{attrs:{id:"form-test_num-group",label:"Repeated times for test:","label-for":"form-test_num-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-test_num-input",type:"text"},model:{value:t.perf_tuning_form.test_num,callback:function(e){t.$set(t.perf_tuning_form,"test_num",e)},expression:"perf_tuning_form.test_num"}})],1),o("b-form-group",{attrs:{id:"form-warmup_num-group",label:"Repeated times for warmup:","label-for":"form-warmup_num-input","label-class":"font-weight-bold"}},[o("b-form-input",{attrs:{id:"form-warmup_num-input",type:"text"},model:{value:t.perf_tuning_form.warmup_num,callback:function(e){t.$set(t.perf_tuning_form,"warmup_num",e)},expression:"perf_tuning_form.warmup_num"}})],1)],1):t._e()],1):t._e(),o("hr"),o("b-button",{staticClass:"button_right",attrs:{type:"submit",disabled:t.model_running,variant:"primary"}},[t._v("Submit")]),o("b-button",{attrs:{type:"reset",disabled:t.model_running,variant:"danger"}},[t._v("Reset")])],1)],1),o("hr"),t.show_message?o("alert",{attrs:{message:t.message,link:t.link,loading:t.model_running}}):t._e()],1)},M=[];const T=Object.assign({},$);var N={name:"Perf",props:["onnx_model"],data(){return{selected:-1,perf_tuning_form:$,selected_eps:[],optimization_option:3,selected_execution_modes:[],selected_opt_levels:[],selected_omp_wait_policy:[],options:{onnxruntime_version:["1.8.1","1.9.0"],execution_mode_list:["parallel","sequential"],providers_list:[{value:"",text:"Run all EPs (default)"},{value:"cpu",text:"CPU"},{value:"dnnl",text:"DNNL (only can be selected when onnxruntime cpu version installed)"},{value:"openvino",text:"OPENVINO (only can be selected when onnxruntime cpu version installed)"},{value:"cuda",text:"CUDA (only can be selected when onnxruntime gpu version installed)"},{value:"tensorrt",text:"TensorRT (only can be selected when onnxruntime gpu version installed)"}],ort_opt_level_list:["disable","basic","extended","all"],omp_wait_policy_list:["ACTIVE","PASSIVE"]},message:"",show_message:!1,model_missing:"",adv_setting:!1,model_running:!1,host:`${window.location.protocol}//${window.location.host.split(":")[0]}`,link:"",job_id:"",job_name:`perf-tuning-${Date.now()}`,prev_job_list:[]}},components:{alert:x},methods:{init_perf_tuning_form(){this.perf_tuning_form=Object.assign({},T),this.perf_tuning_form.model=this.onnx_model,this.customized_model=null,this.selected_eps=[],this.selected_execution_modes=[],this.selected_opt_levels=[],this.selected_omp_wait_policy=[],this.sample_input_data_path=null,this.optimization_config=null,this.optimization_option=3,this.onnxruntime_version=0},get_jobs(){h.a.get(`${this.host}:5000/gettasks`).then(t=>{this.prev_job_list=[];for(let e=0;e<Object.keys(t.data).length;e++){const o=t.data[Object.keys(t.data)[e]],n=o.name.indexOf(".");"SUCCESS"==o.state&&"convert"==o.name.substring(0,n)&&(Date.now()/1e3-o.timestamp)/3600<168&&this.prev_job_list.push({value:Object.keys(t.data)[e],text:o.name.substring(n+1),timestamp:o.timestamp})}this.prev_job_list.sort((t,e)=>t.timestamp-e.timestamp),this.prev_job_list.length>0&&(this.selected_converter_job=this.prev_job_list[this.prev_job_list.length-1].value)})},perf_tuning(t){if(this.close_all(),this.model_running=!0,this.show_message=!0,this.message=`Submitting job ${this.job_name}`,t.preventDefault(),this.selected_eps.length>0){this.perf_tuning_form.providers_list="";for(let t=0;t<this.selected_eps.length;t++)this.perf_tuning_form.providers_list+=this.selected_eps[t],t<this.selected_eps.length-1&&(this.perf_tuning_form.providers_list+=",")}if(this.selected_execution_modes.length>0){this.perf_tuning_form.execution_mode_list="";for(let t=0;t<this.selected_execution_modes.length;t++)this.perf_tuning_form.execution_mode_list+=this.selected_execution_modes[t],t<this.selected_execution_modes.length-1&&(this.perf_tuning_form.execution_mode_list+=",")}if(this.selected_opt_levels.length>0){this.perf_tuning_form.ort_opt_level_list="";for(let t=0;t<this.selected_opt_levels.length;t++)this.perf_tuning_form.ort_opt_level_list+=this.selected_opt_levels[t],t<this.selected_opt_levels.length-1&&(this.perf_tuning_form.ort_opt_level_list+=",")}if(this.selected_omp_wait_policy.length>0){this.perf_tuning_form.omp_wait_policy_list="";for(let t=0;t<this.selected_omp_wait_policy.length;t++)this.perf_tuning_form.omp_wait_policy_list+=this.selected_omp_wait_policy[t],t<this.selected_omp_wait_policy.length-1&&(this.perf_tuning_form.omp_wait_policy_list+=",")}const e=this.perf_tuning_form,o=JSON.stringify(e),n=new Blob([o],{type:"application/json"}),s=new FormData;s.append("metadata",n),s.append("job_name",this.job_name),s.append("file",this.customized_model),s.append("sample_input_data_path",this.sample_input_data_path),s.append("optimization_config",this.optimization_config),h.a.post(`${this.host}:5000/perf_tuning`,s).then(t=>{this.link=`${this.host}:5000/perfresult/${t.data.job_id}`,this.model_running=!1,this.show_message=!0,this.message="Running job at ",this.update_result(t.data.job_id)}).catch(t=>{this.message=t.toString(),this.model_running=!1}),this.job_name=`perf-tuning-${Date.now()}`},update_result(t){h.a.get(`${this.host}:5000/perfstatus/${t}`).then(e=>{"SUCCESS"==e.data.state?(this.$emit("update_model",e.data.optimized_model),this.message="Job succeeded. Result at "):"FAILURE"==e.data.state?this.message="Job completed. Result at ":setTimeout(()=>this.update_result(t),1e4)}).catch(t=>{this.message=t.toString()})},onReset_perf_tuning(t){t.preventDefault(),this.init_perf_tuning_form()},close_all(){this.result=[],this.show_message=!1}}},P=N,R=Object(_["a"])(P,E,M,!1,null,null,null),D=R.exports,I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{ref:"visualizeModel",attrs:{id:"visualizeModel",title:"Visualization","hide-footer":""}},[o("b-form",{staticClass:"w-100",on:{submit:t.visualize}},[o("b-form-group",{attrs:{id:"visualize_model",label:"Model for visualization:","label-for":"form-visualize_model-input"}},[o("b-form-file",{attrs:{id:"form-visualize_model-input",required:"",placeholder:"Choose a model...","drop-placeholder":"Drop model here..."},model:{value:t.visualize_model,callback:function(e){t.visualize_model=e},expression:"visualize_model"}})],1),o("b-button",{attrs:{type:"submit",disabled:t.model_running,variant:"primary"}},[t._v("Submit")])],1)],1),o("hr"),t.show_visualization?o("iframe",{attrs:{src:"http://localhost:8080",width:"100%",height:"800"}}):t._e()])},J=[],A={data(){return{visualize_model:null,show_visualization:!1,host:`${window.location.protocol}//${window.location.host.split(":")[0]}`,model_running:!1}},methods:{visualize(t){t.preventDefault(),this.model_running=!0;const e=`${this.host}:5000/visualize`,o=new FormData;o.append("file",this.visualize_model),h.a.post(e,o).then(t=>{"success"===t.data.status&&(this.show_visualization=!0,this.model_running=!1)}).catch(t=>{this.model_running=!1,console.log(t)})}}},F=A,L=Object(_["a"])(F,I,J,!1,null,null,null),q=L.exports,U=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("b-button",{attrs:{variant:"outline-primary"},on:{click:t.get_jobs}},[t._v("Refresh")]),o("b-table",{staticStyle:{"table-layout":"fixed"},attrs:{items:t.tasks,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,striped:"",hover:"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},"row-clicked":t.get_details}})],1)},B=[],V={name:"JobMonitor",data(){return{sortBy:"started",sortDesc:!0,fields:[{key:"name",sortable:!0},{key:"state",sortable:!0},{key:"type",sortable:!0},{key:"received",sortable:!0},{key:"started",sortable:!0}],host:`${window.location.protocol}//${window.location.host.split(":")[0]}`,tasks:[]}},mounted(){this.get_jobs()},methods:{get_jobs(){h.a.get(`${this.host}:5000/gettasks`).then(t=>{this.tasks=[];for(let e=0;e<Object.keys(t.data).length;e++){const o=t.data[Object.keys(t.data)[e]],n=o.name.indexOf(".");this.tasks.push({name:o.name.substring(n+1),state:o.state,type:o.name.substring(0,n),received:o.received,started:o.started,id:Object.keys(t.data)[e]})}})},get_details(t){"convert"==t.type?window.open(`${this.host}:5000/convertresult/${t.id}`,"_blank"):"perf_tuning"==t.type&&window.open(`${this.host}:5000/perfresult/${t.id}`,"_blank")}}},W=V,X=Object(_["a"])(W,U,B,!1,null,null,null),G=X.exports,H=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("h3",[t._v('Job "'+t._s(t.job_name)+'"')]),t.error_message?o("div",[o("b-alert",{attrs:{show:"",variant:"danger"}},[o("h5",[t._v("Error:")]),t._v("\n        "+t._s(t.error_message))])],1):o("div",[o("b-table",{staticStyle:{"table-layout":"fixed"},attrs:{striped:"",hover:"",responsive:"sm"}}),t.convert_result?o("div",[o("h5",[t._v("Conversion Status:\n        "),o("b-badge",{attrs:{variant:"primary"}},[t._v("\n            "+t._s(t.convert_result["conversion_status"])+"\n        ")])],1),"SUCCESS"==t.convert_result["conversion_status"]?o("div",[o("h5",[t._v("Download: ")]),o("a",{attrs:{href:t.host+":5000/download/"+t.convert_result["converted_model"],download:""}},[t._v("[model]")])]):t._e(),o("br"),o("hr"),o("details",{staticStyle:{margin:"10px"}},[o("table",{staticClass:"table-responsive-lg",staticStyle:{"table-layout":"fixed"}},[t._m(0),o("tbody",[o("p",[t._v("\n              "+t._s(t.convert_result["logs"])+"\n            ")])])])])]):t._e(),t.show_message?o("alert",{attrs:{message:t.message,link:t.link}}):t._e()],1)])},Y=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("logs")])])])}],K={name:"ConvertResult",data(){return{host:`${window.location.protocol}//${window.location.host.split(":")[0]}`,id:this.$route.params.id,fields:["arg","value"],convert_result:null,args:[],job_name:"",message:"",show_message:!1,error_message:"",link:""}},components:{alert:x},mounted(){this.update_result(),this.get_args(),this.get_job_name()},methods:{get_args(){h.a.get(`${this.host}:5000/getargs/${this.id}`).then(t=>{const e=Object.keys(t.data);for(let o=0;o<e.length;o++)t.data[e[o]].length>0&&this.args.push({arg:e[o],value:t.data[e[o]]})}).catch(t=>{this.message=t.toString(),this.show_message=!0})},get_job_name(){h.a.get(`${this.host}:5000/getjobname/${this.id}`).then(t=>{const e=t.data.name.indexOf(".");this.job_name=t.data.name.substring(e+1)}).catch(t=>{this.message=t.toString()})},update_result(){this.link="",h.a.get(`${this.host}:5000/convertstatus/${this.id}`).then(t=>{"SUCCESS"==t.data.state?(this.convert_result={logs:t.data.logs,converted_model:t.data.converted_model,conversion_status:t.data.conversion_status},this.$emit("convert_model",t.data.converted_model),this.show_message=!1):"FAILURE"==t.data.state?this.error_message=t.data:"STARTED"==t.data.state?(this.show_message=!0,this.message="Job running. Auto refreshing the page in 2 seconds. ",setTimeout(()=>this.update_result(this.id),2e3)):(this.show_message=!0,this.message="Job is pending or the job does not exist. Try refreshing the page or browse all available jobs at ",this.link=`${this.host}:8000/jobmonitor`)}).catch(t=>{this.show_message=!0,this.message=t.toString()})}}},Q=K,Z=Object(_["a"])(Q,H,Y,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("h3",[t._v('Job "'+t._s(t.job_name)+'"')]),t.error_message?o("div",[o("b-alert",{attrs:{show:"",variant:"danger"}},[o("h5",[t._v("Error:")]),t._v("\n        "+t._s(t.error_message))])],1):t._e(),Object.keys(t.result).length>0?o("div",[o("ul",{staticClass:"list-group"},[o("li",{staticClass:"list-group-item"},[o("table",{staticClass:"table-responsive-lg",staticStyle:{"table-layout":"fixed"}},[t._m(0),o("tbody",[o("tr",[o("td",[t._v(t._s(t.result.pretuning_avg))]),o("td",[t._v(t._s(t.result.latency_ms_avg))]),o("td",[t._v(t._s(t.result.latency_ms_p90))]),o("td",[t._v(t._s(t.result.latency_ms_p95))]),o("td",[t._v(t._s(t.result.pretuning_throughput))]),o("td",[t._v(t._s(t.result.optimal_throughput))])])])]),o("hr"),o("div",[o("h5",[t._v("Download Optimized Model: ")]),o("a",{attrs:{href:t.host+":5000/download/"+t.result.optimized_model,download:""}},[t._v("[model]")])]),o("hr"),o("details",{staticStyle:{margin:"10px"}},[o("table",{staticClass:"table-responsive-lg",staticStyle:{"table-layout":"fixed"}},[t._m(1),o("tbody",[o("tr",[o("td",[t._v(t._s(t.result.execution_provider))]),o("td",[t._v(t._s(t.result.env_vars))]),o("td",[t._v(t._s(t.result.session_options))])])])]),o("hr"),o("table",{staticClass:"table-responsive-lg",staticStyle:{"table-layout":"fixed"}},[t._m(2),o("tbody",t._l(t.result.sample_script,function(e){return o("p",{key:e},[t._v("\n                  "+t._s(e)+"\n                ")])}),0)]),o("hr"),o("table",{staticClass:"table-responsive-lg",staticStyle:{"table-layout":"fixed"}},[t._m(3),o("tbody",[o("p",[t._v("\n                  "+t._s(this.message)+"\n                ")])])])])])])]):t._e(),t.show_message?o("alert",{attrs:{message:t.message,link:t.link}}):t._e()],1)},ot=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("pretuning avg (ms)")]),o("th",{attrs:{scope:"col"}},[t._v("optimized avg (ms)")]),o("th",{attrs:{scope:"col"}},[t._v("optimized p90 (ms)")]),o("th",{attrs:{scope:"col"}},[t._v("optimized p95 (ms)")]),o("th",{attrs:{scope:"col"}},[t._v("pretuning throughput")]),o("th",{attrs:{scope:"col"}},[t._v("optimal throughput")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("execution_provider")]),o("th",{attrs:{scope:"col"}},[t._v("environment variables")]),o("th",{attrs:{scope:"col"}},[t._v("session_options")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("python sample script")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("logs")])])])}],nt={name:"PerfResult",data(){return{host:`${window.location.protocol}//${window.location.host.split(":")[0]}`,id:this.$route.params.id,arg_fields:["arg","value"],args:[],sample_script:[],result:{},message:"",code_details:"",PROFILING_MAX:5,selected:-1,show_message:!1,job_name:"",link:"",error_message:""}},components:{alert:x},mounted(){try{this.get_args(),this.get_job_name(),this.update_result()}catch(t){this.message=t.toString(),this.show_message=!0}},methods:{get_args(){h.a.get(`${this.host}:5000/getargs/${this.id}`).then(t=>{const e=Object.keys(t.data);for(let o=0;o<e.length;o++)t.data[e[o]].length>0&&this.args.push({arg:e[o],value:t.data[e[o]]})}).catch(t=>{this.message=t.toString()})},get_job_name(){h.a.get(`${this.host}:5000/getjobname/${this.id}`).then(t=>{const e=t.data.name.indexOf(".");this.job_name=t.data.name.substring(e+1)}).catch(t=>{this.message=t.toString()})},update_result(){this.link="",h.a.get(`${this.host}:5000/perfstatus/${this.id}`).then(t=>{if("SUCCESS"==t.data.state){const{logs:e}=t.data;this.message=e,this.result=JSON.parse(t.data.result),this.$emit("update_model",this.result.optimized_model),this.sample_script=this.result.sample_script,this.show_message=!1}else"FAILURE"==t.data.state?this.error_message=t.data:"STARTED"==t.data.state?(this.show_message=!0,this.message="Job running. Auto refreshing the page in 2 seconds. ",setTimeout(()=>this.update_result(this.id),2e3)):(this.show_message=!0,this.link=`${this.host}:5000/jobmonitor`,this.message="Job is pending or the job does not exist. Try refreshing the page or browse all available jobs at ")}).catch(t=>{this.message=t.toString()})},format_code_snippet(t){this.code_details=t.trim().replace(/\s\s+/g,"\n"),this.$refs.codeModel.show()},open_details(t){this.selected==t?this.selected=-1:this.selected=t}}},st=nt,rt=Object(_["a"])(st,et,ot,!1,null,null,null),at=rt.exports;s["default"].use(m["a"]);var it=new m["a"]({mode:"history",base:"/",routes:[{path:"/",name:"Pipeline"},{path:"/convert",name:"Convert",component:O},{path:"/perf",name:"Perf",component:D},{path:"/visualize",name:"Visualize",component:q},{path:"/jobmonitor",name:"JobMonitor",component:G},{path:"/convertresult/:id",name:"ConvertResult",component:tt},{path:"/perfresult/:id",name:"PerfResult",component:at}]});s["default"].config.productionTip=!1,s["default"].use(n["a"]),new s["default"]({router:it,render:t=>t(p)}).$mount("#app")},"64a9":function(t,e,o){}});
//# sourceMappingURL=app.c546318b.js.map